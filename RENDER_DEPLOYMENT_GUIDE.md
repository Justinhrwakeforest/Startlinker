# StartLinker Render Deployment Guide

This guide will help you deploy both the Django backend and React frontend to Render.com.

## Prerequisites

1. **GitHub Repository**: Ensure your code is pushed to a GitHub repository
2. **Render Account**: Sign up at [render.com](https://render.com)
3. **Environment Ready**: Both backend and frontend are tested locally

## Deployment Steps

### Step 1: Deploy Database

1. Go to [Render Dashboard](https://dashboard.render.com)
2. Click **"New"** → **"PostgreSQL"**
3. Configure:
   - **Name**: `startlinker-db`
   - **Database**: `startlinker_db`
   - **User**: `startlinker_user`
   - **Region**: `Oregon (US West)`
   - **Plan**: `Starter ($7/month)`
4. Click **"Create Database"**
5. **Copy the connection string** - you'll need it for the backend

### Step 2: Deploy Backend

1. Click **"New"** → **"Web Service"**
2. Connect your GitHub repository
3. Configure:
   - **Name**: `startlinker-backend`
   - **Environment**: `Python 3`
   - **Region**: `Oregon (US West)`
   - **Branch**: `main`
   - **Build Command**:
     ```bash
     pip install --upgrade pip && pip install -r requirements.txt && python manage.py collectstatic --noinput --clear
     ```
   - **Start Command**:
     ```bash
     python manage.py migrate --noinput && gunicorn startup_hub.wsgi:application --bind 0.0.0.0:$PORT --workers 2 --timeout 120
     ```

4. **Environment Variables**:
   ```
   PYTHON_VERSION = 3.11
   DJANGO_SETTINGS_MODULE = startup_hub.settings.render
   DEBUG = False
   SECRET_KEY = [Let Render auto-generate]
   ALLOWED_HOSTS = .onrender.com
   CORS_ALLOWED_ORIGINS = https://startlinker-frontend.onrender.com
   DATABASE_URL = [Copy from PostgreSQL service]
   ```

5. Click **"Create Web Service"**

### Step 3: Deploy Frontend

1. Click **"New"** → **"Static Site"**
2. Connect your GitHub repository
3. Configure:
   - **Name**: `startlinker-frontend`
   - **Branch**: `main`
   - **Root Directory**: `frontend`
   - **Build Command**:
     ```bash
     npm ci && npm run build
     ```
   - **Publish Directory**: `build`

4. **Environment Variables**:
   ```
   NODE_VERSION = 18
   REACT_APP_API_URL = https://startlinker-backend.onrender.com
   GENERATE_SOURCEMAP = false
   CI = false
   ```

5. Click **"Create Static Site"**

### Step 4: Post-Deployment

1. **Create Admin User**: Go to backend service → Shell tab → Run:
   ```bash
   python manage.py createsuperuser
   ```

2. **Test the deployment**:
   - Backend: `https://startlinker-backend.onrender.com/admin/`
   - Frontend: `https://startlinker-frontend.onrender.com`

## Environment Variables Reference

### Backend Variables
- `PYTHON_VERSION`: `3.11`
- `DJANGO_SETTINGS_MODULE`: `startup_hub.settings.render`
- `DEBUG`: `False`
- `SECRET_KEY`: Auto-generated by Render
- `DATABASE_URL`: From PostgreSQL service
- `ALLOWED_HOSTS`: `.onrender.com`
- `CORS_ALLOWED_ORIGINS`: `https://startlinker-frontend.onrender.com`

### Frontend Variables
- `NODE_VERSION`: `18`
- `REACT_APP_API_URL`: `https://startlinker-backend.onrender.com`
- `GENERATE_SOURCEMAP`: `false`
- `CI`: `false`

## Troubleshooting

### Build Issues
- Check logs in service dashboard
- Ensure all dependencies in requirements.txt/package.json
- Verify Python/Node versions

### CORS Issues
- Add frontend URL to CORS_ALLOWED_ORIGINS
- Check CSRF_TRUSTED_ORIGINS in settings

### Database Issues
- Verify DATABASE_URL is correct
- Run migrations manually if needed

## Cost
- PostgreSQL: $7/month
- Backend service: $7/month
- Frontend: Free
- **Total: ~$14/month**

Your StartLinker platform will be available at:
- **Frontend**: https://startlinker-frontend.onrender.com
- **Backend API**: https://startlinker-backend.onrender.com
- **Admin Panel**: https://startlinker-backend.onrender.com/admin/